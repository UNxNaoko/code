<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I'm Behind You</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="login-screen">
        <div id="login-header">
            <h1>Welcome to Your System</h1>
            <p>Select a user to log in</p>
        </div>
        <div id="user-selection">
            <div class="user" data-user="user1">
                <img src="images/user1.png" alt="User 1">
                <span>User 1</span>
            </div>
            <div class="user" data-user="user2">
                <img src="images/user2.png" alt="User 2">
                <span>User 2</span>
            </div>
            <div class="user" data-user="user3">
                <img src="images/user3.png" alt="User 3">
                <span>User 3</span>
            </div>
        </div>
    </div>
    <div id="login-overlay">
        <div id="code-screen">
            <pre id="boot-sequence"></pre>
        </div>
    </div>
    <div class="bg-image"></div>
    <div class="desktop-container">
        <div class="desktop-icon" data-window="about">
            <a href="about.html">
                <img src="images/3d_graphics_file.png" alt="About">
                <span>About</span>
            </a>
        </div>
        <div class="desktop-icon" data-window="artwork">
            <a href="artwork.html">
                <img src="images/aseprite.png" alt="Artwork">
                <span>Artwork</span>
            </a>
        </div>
        <div class="desktop-icon" data-window="blog">
            <a href="blog.html">
                <img src="images/clock.png" alt="Blog">
                <span>Blog</span>
            </a>
        </div>
        <div class="desktop-icon" data-window="webcam">
            <img src="images/video_movie_editor.png" alt="Webcam">
            <span>Webcam</span>
        </div>
        <div class="desktop-icon" data-window="notepad">
            <img src="images/notepad.png" alt="Notepad">
            <span>Notepad</span>
        </div>
        <div class="desktop-icon" data-window="chatbox">
            <img src="images/briefcase.png" alt="Chatbox">
            <span>Chatbox</span>
        </div>
    </div>

    <div class="desktop-container" style="left: 80px; top:4px;">
        <div class="desktop-icon" data-window="notepad2">
            <img src="images/notepad.png" alt="Notepad 2">
            <span>Notepad</span>
        </div>
        <div class="desktop-icon" data-window="music-player">
            <img src="images/music.png" alt="Music Player">
            <span>Music</span>
        </div>
    </div>

    <div id="webcam-window" class="window" style="display: block; left: auto; right: 10px; top: 10px; transform: none; width: 410px; height: auto; padding-bottom: 7px; z-index: 10;">
        <div class="window-header">
            <div class="window-header-inner">
                <div class="window-title">
                    <img src="images/video_movie_editor.png" alt="Webcam">
                    <span>Webcam</span>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" data-window="webcam">-</div>
                    <div class="window-control maximize" data-window="webcam">□</div>
                    <div class="window-control close" data-window="webcam">×</div>
                </div>
            </div>
        </div>
        <div class="window-content" style="padding: 1px 5px;">
            <div class="window-content-inner">
                <img src="webcam/Fair-bored.gif" alt="Webcam Feed" style="width: 100%; height: 100%; object-fit: cover; image-rendering: pixelated;">
            </div>
        </div>
    </div>

    <div id="chatbox-window" class="window" style="display: block; left: auto; right: 20px; top: 352px; transform: none;  padding-bottom: 7px; z-index: 10;">
        <div class="window-header">
            <div class="window-header-inner">
                <div class="window-title">
                    <img src="images/briefcase.png" alt="Chatbox">
                    <span>Chatbox</span>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" data-window="chatbox">-</div>
                    <div class="window-control maximize" data-window="chatbox">□</div>
                    <div class="window-control close" data-window="chatbox">×</div>
                </div>
            </div>
        </div>
        <div class="window-content" style="padding: 0;">
            <iframe src="https://iframe.chat/embed?chat=34004944" id="chattable" frameborder="none" style="width: 100%; height: 100%;"></iframe>
        </div>
    </div>

    <div id="notepad-window" class="window" style="z-index: 10;">
        <div class="window-header">
            <div class="window-header-inner">
                <div class="window-title">
                    <img src="images/notepad.png" alt="Notepad">
                    <span>Notepad</span>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" data-window="notepad">-</div>
                    <div class="window-control maximize" data-window="notepad">□</div>
                    <div class="window-control close" data-window="notepad">×</div>
                </div>
            </div>
        </div>
        <div class="window-content">
            <div class="window-content-inner">
                <h2>WELCOME</h2>
                <hr> <br>
                <p>Welcome to my personal website!!! This is uhhh my first time trying to code website on my own it might be uhhh kinda glitchy or silly <br> also it's most of the time there will be more elements adding to website</p>
                <mark>also srry mobile user idk how to fix it I'm too eepy</mark>
                <p>also this website is for portfolio/ keepign all my projects in one place, social medias and my lores</p>
            </div>
        </div>
    </div>
    
    <div id="notepad2-window" class="window" style="display: block; left: auto; right: 450px; top: 10px; transform: none; width: 400px; height: auto; padding-bottom: 7px; z-index: 10;">
        <div class="window-header">
            <div class="window-header-inner">
                <div class="window-title">
                    <img src="images/notepad.png" alt="Notepad">
                    <span>Notepad 2</span>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" data-window="notepad2">-</div>
                    <div class="window-control maximize" data-window="notepad2">□</div>
                    <div class="window-control close" data-window="notepad2">×</div>
                </div>
            </div>
        </div>
        <div class="window-content">
            <div class="window-content-inner">
                <h2>Notepad 2</h2>
                <hr> <br>
                <p>Write your custom text here...</p>
            </div>
        </div>
    </div>

    <div id="music-player-window" class="window" style="display: block; left: 20px; bottom: 10px; transform: none; width: 400px; height: auto; padding-bottom: 7px; z-index: 10;">
        <div class="window-header">
            <div class="window-header-inner">
                <div class="window-title">
                    <img src="images/music.png" alt="Music">
                    <span>Music Player</span>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" data-window="music-player">-</div>
                    <div class="window-control maximize" data-window="music-player">□</div>
                    <div class="window-control close" data-window="music-player">×</div>
                </div>
            </div>
        </div>
        <div class="window-content">
            <div class="window-content-inner">
                <div class="music-player-ui">
                    <div class="music-controls">
                        <button id="prev-track">⏮</button>
                        <button id="play-pause">▶</button>
                        <button id="next-track">⏭</button>
                    </div>
                    <div class="current-track-info">
                        <span id="current-track-name">No track playing</span>
                        <span id="current-track-time">0:00 / 0:00</span>
                    </div>
                    <div id="music-iframe-container">
                        <iframe id="music-iframe" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                    <ul id="playlist">
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="taskbar">
        <div class="start-button">
            <img src="images/tools.png" alt="Start">
            <span>START</span>
        </div>
        <div class="taskbar-item" data-window="webcam">
            <img src="images/video_movie_editor.png" alt="Webcam">
            <span>Webcam</span>
        </div>
        <div class="taskbar-item" data-window="notepad">
            <img src="images/notepad.png" alt="Notepad">
            <span>Notepad</span>
        </div>
        <div class="taskbar-item" data-window="chatbox">
            <img src="images/briefcase.png" alt="Chatbox">
            <span>Chatbox</span>
        </div>
        <div class="taskbar-time">
            <span id="taskbar-time">12:34:56</span>
            <span id="taskbar-date">Wed, Mar 15</span>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="https://iframe.chat/scripts/main.min.js"></script>
    <script>
      chattable.initialize({
        stylesheet: "chattable.css"
      });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const playlist = [
                { name: "POUND CAKE -THOT SQUAD", url: "https://www.youtube.com/embed/JWViInkIAuk" },
                { name: "Monitoring covered by Isekaijoucho-", url: "https://www.youtube.com/embed/4maZBCx6ZpA" },
                { name: "KITCHEN FORK || SLAY THE PRINCESS AMV -Jack Conte", url: "https://www.youtube.com/embed/QXh5rG1hQCo" },
                { name: "spellcasting - dancing around in circles until my little feet fall off", url: "https://www.youtube.com/embed/3AgveSlcT0E" },
                { name: "Retry now! -なきそ", url: "https://www.youtube.com/embed/3iUgKH8c7p4" },
                { name: "Our Time - bo en, PAS TASTA", url: "https://www.youtube.com/embed/8fe-xBODpT4" }
            ];

            const playlistElement = document.getElementById("playlist");
            const musicIframe = document.getElementById("music-iframe");
            const currentTrackName = document.getElementById("current-track-name");
            const playPauseButton = document.getElementById("play-pause");
            const prevTrackButton = document.getElementById("prev-track");
            const nextTrackButton = document.getElementById("next-track");

            let currentTrackIndex = 0;
            let isPlaying = false;

            // Populate the playlist
            playlist.forEach((track, index) => {
                const li = document.createElement("li");
                li.textContent = track.name;
                li.dataset.index = index;
                li.addEventListener("click", () => playTrack(index));
                playlistElement.appendChild(li);
            });

            // Play the selected track
            function playTrack(index) {
                currentTrackIndex = index;
                const track = playlist[currentTrackIndex];
                musicIframe.src = `${track.url}?autoplay=1`; // Add autoplay parameter
                currentTrackName.textContent = track.name;
                updatePlaylistUI();
                isPlaying = true;
                playPauseButton.textContent = "⏸";
            }

            // Update the playlist UI to highlight the current track
            function updatePlaylistUI() {
                const items = playlistElement.querySelectorAll("li");
                items.forEach((item, index) => {
                    item.classList.toggle("active", index === currentTrackIndex);
                });
            }

            // Play/pause functionality
            playPauseButton.addEventListener("click", () => {
                if (isPlaying) {
                    musicIframe.src = ""; // Stop the iframe
                    playPauseButton.textContent = "▶";
                } else {
                    playTrack(currentTrackIndex); // Resume playing
                }
                isPlaying = !isPlaying;
            });

            // Play the previous track
            prevTrackButton.addEventListener("click", () => {
                currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
                playTrack(currentTrackIndex);
            });

            // Play the next track
            nextTrackButton.addEventListener("click", () => {
                currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
                playTrack(currentTrackIndex);
            });

            // Initialize the player with the first track
            playTrack(0);
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const musicPlayerWindow = document.getElementById("music-player-window");
            const musicIcon = document.querySelector('.desktop-icon[data-window="music-player"]');

            // Add click event to the music icon
            musicIcon.addEventListener("click", () => {
                if (musicPlayerWindow.style.display === "none") {
                    musicPlayerWindow.style.display = "block"; // Show the music player
                } else {
                    musicPlayerWindow.style.display = "none"; // Hide the music player
                }
            });

            // Add close functionality to the close button
            const closeButton = document.querySelector('.window-control.close[data-window="music-player"]');
            closeButton.addEventListener("click", () => {
                musicPlayerWindow.style.display = "none"; // Hide the music player
            });
        });
    </script>
</body>
</html>
